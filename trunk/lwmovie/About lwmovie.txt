lwmovie is a fast video decompression library.  It is designed to support several audio and video codecs and is primarily focused on speed.

Decoding lwmovie involves setting up 2 stages: A movie state (also called a digester) and reconstructors.  The digester consumes data, passes it to reconstructors, and the reconstructors convert it into usable video.


Movie state:

To create a digester, pass an allocator structure to lwmInitialize.  This will return a lwmMovieState object.

To feed data to the digester, call lwmFeedData.  lwmFeedData accepts the movie state, an input data buffer, and the number of bytes of data that are available.  It returns a result and the number of bytes that were digested, which may be all, some, or none of it.

The results and what you should do with them are as follows:
lwmDIGEST_Initialize:
   Indicates that lwmovie has information about the audio and video streams.  You should create reconstructors and assign them using lwmSetVideoReconstructor and lwmSetAudioReconstructor.

lwmDIGEST_VideoSync:
   Indicates that a video frame has finished processing and is ready for display.

lwmDIGEST_AudioSync:
   Indicates that a audio data has finished processing and is ready for playback.

In any sync cases, you can use lwmGetAudioTime and lwmGetVideoTime to determine the timestamp of the stream, which is represented as the amount of time that has passed in the frame, including the data that finished with the sync.


Reconstructors by recon type:
lwmRC_MPEG1Video:
   lwmCreateSoftwareVideoReconstructor:
      Creates a reconstructor that performs all reconstruction operations in software.